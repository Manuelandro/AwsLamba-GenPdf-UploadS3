const lambdaLocal = require("lambda-local")

const jsonPayload = {
    body: {
        body:
            "ewoJInRlbXBsYXRlIjogInJpY2V2dXRhX25vdGMiLAoJImJ1Y2tldCI6ICJwZGZ1cGxvYWRlciIsCgkiZ2lmdCI6ICJMYSB0dWEgU2hvcHBpbmcgQ2FyZCIsCgkicmV0YWlsZXJOYW1lIjogIkJ1b25vIFJlZ2FsbyBBbWF6b24uaXQiLAoJImNhcmREYXRhIjogewoJCSJDb2RpY2UiOiBudWxsLAoJCSJWYWxvcmUiOiAiMjUg4oKsIiwKCQkiRGF0YSBkaSBBY3F1aXN0byI6ICIyMVwvMDVcLzIwMTgiLAoJCSJTY2FkZW56YSI6ICIyMVwvMDVcLzIwMjgiCgl9LAoJImRlc2NyaXB0aW9uIjogIjxkaXY+SSBCdW9uaSBSZWdhbG8qIDxiPkFtYXpvbi5pdDxcL2I+IHBvc3Nvbm8gZXNzZXJlIHV0aWxpenphdGkgcGVyIG1pbGlvbmkgZGkgYXJ0aWNvbGkgc3UgPGEgaHJlZj1cImh0dHBzOlwvXC93d3cuYW1hem9uLml0XCI+d3d3LmFtYXpvbi5pdDxcL2E+LjxcL2Rpdj48ZGl2PkxhIHZhc3RhIHNlbGV6aW9uZSBkaSBwcm9kb3R0aSBBbWF6b24uaXQgaW5jbHVkZSBMaWJyaSwgRWxldHRyb25pY2EsIE11c2ljYSwgRmlsbSBlIFRWLCBBYmJpZ2xpYW1lbnRvLCBWaWRlbyBHaW9jaGksIFNvZnR3YXJlLCBTcG9ydCBlIFRlbXBvIGxpYmVybywgR2lvY2F0dG9saSwgQ29tcHV0ZXIgZSBVZmZpY2lvLCBDYXNhIGUgR2lhcmRpbm8sIE9yb2xvZ2ksIEZvdG8gZSBWaWRlb2NhbWVyZSBlIGFsdHJvLjxcL2Rpdj48ZGl2PkFtYXpvbi5pdCDDqCBpbCBsdW9nbyBkb3ZlIHRyb3ZhcmUgZSBzY29wcmlyZSB0dXR0byBjacOyIGNoZSB2dW9pIGNvbXByYXJlIG9ubGluZSBhZCB1biBwcmV6em8gY29udmVuaWVudGUuIDxcL2Rpdj48ZGl2PipSZXN0cml6aW9uaSBhcHBsaWNhdGU7IFZlZGVyZSBkZXR0YWdsaS48XC9kaXY+IiwKCSJ0QW5kQyI6ICI8ZGl2PipBbWF6b24uaXQgbm9uIMOoIHVubyBzcG9uc29yIGRlbGxhIHByZXNlbnRlIHByb21vemlvbmUuPFwvZGl2PjxkaXY+SSBCdW9uaSBSZWdhbG8gQW1hem9uLml0IHBvc3Nvbm8gZXNzZXJlIHV0aWxpenphdGkgcGVyIGwnYWNxdWlzdG8gZGkgcHJvZG90dGkgZWxlbmNhdGkgc3VsIHNpdG8gPGEgaHJlZj1cImh0dHBzOlwvXC93d3cuYW1hem9uLml0XCI+d3d3LmFtYXpvbi5pdDxcL2E+LjxcL2Rpdj48ZGl2PkkgQnVvbmkgUmVnYWxvIG5vbiBwb3Nzb25vIGVzc2VyZSByaW1ib3JzYXRpIGluIGNvbnRhbnRpLCByaXZlbmR1dGkgbyB0cmFzZmVyaXRpIGFkIGFsdHJvIGFjY291bnQuPFwvZGl2PjxkaXY+QW1hem9uLml0IG5vbiDDqCByZXNwb25zYWJpbGUgcGVyIGxvIHNtYXJyaW1lbnRvLCBpbCBmdXJ0bywgbGEgZGlzdHJ1emlvbmUgbyBs4oCZdXNvIG5vbiBhdXRvcml6emF0byBkZWkgQnVvbmkgUmVnYWxvLjxcL2Rpdj48ZGl2PkkgdGVybWluaSBlIGxlIGNvbmRpemlvbmkgZOKAmXVzbyBzb25vIGRpc3BvbmliaWxpIHN1OiA8YSBocmVmPVwiaHR0cHM6XC9cL3d3dy5hbWF6b24uaXRcL2dwXC9nY1wiPnd3dy5hbWF6b24uaXRcL2dwXC9nYzxcL2E+LjxcL2Rpdj48ZGl2PkkgQnVvbmkgUmVnYWxvIHNvbm8gZW1lc3NpIGRhIEFtYXpvbiBFVSBTLsOgIHIubCAuIMKpLCDCriwgVE0gQW1hem9uLmNvbSwgSW5jLiBvIHN1ZSBhZmZpbGlhdGUuJm5ic3A7PFwvZGl2PiIsCgkicmV0YWlsZXJJbWFnZSI6ICJodHRwczpcL1wvc2l4dGhjb250aW5lbnRzdGF0aWMuczMuYW1hem9uYXdzLmNvbVwvdXBsb2Fkc1wvc3RvcmVzXC9wcm9kdWN0XC9vcmlnaW5hbFwvMzg5OFwvMTQ5NjgzMTQyNGJ1b25pcmVnYWxvYW1hem9uLml0bWFpbi5wbmciLAoJImNsYWltIjogIkRpYW1vIHBpw7kgdmFsb3JlIGFpIHR1b2kgc29sZGkhIiwKCSJkZXNjcmlwdGlvblRpdGxlIjogIkRlc2NyaXppb25lIiwKCSJ0aXRsZSI6ICJSaWNldnV0YSIsCgkidEFuZENUaXRsZSI6ICJUZXJtaW5pIGUgQ29uZGl6aW9uaSIsCgkiZmlsZU5hbWUiOiAiV0tGZmRRN1VBRTVucHE5WkNCc0ciLAoJImtleU5hbWUiOiAiMjAxOFwvMDVcLzIxIgp9"
    }
}

lambdaLocal.execute({
    event: jsonPayload,
    lambdaPath: "./handler.js",
    timeoutMs: 3000,
    callback: function(err, data) {
        if (err) {
            console.log(err)
        } else {
            console.log(data)
        }
    }
})
